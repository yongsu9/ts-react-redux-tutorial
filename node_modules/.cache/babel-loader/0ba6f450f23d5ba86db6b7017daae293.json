{"ast":null,"code":"const ADD_TODO = 'todos/ADD_TODO';\nconst TOGGLE_TODO = 'todos/TOGGLE_TODO';\nconst REMOVE_TODO = 'todos/REMOVE_TODO';\nlet nextId = 1;\nexport const addTodo = text => ({\n  type: ADD_TODO,\n  payload: {\n    id: nextId++,\n    text\n  }\n});\nexport const toggleTodo = id => ({\n  type: TOGGLE_TODO,\n  payload: id\n});\nexport const removeTodo = id => ({\n  type: REMOVE_TODO,\n  payload: id\n});\nconst initalState = [];\n\nfunction todos(state = initalState, action) {\n  switch (action.type) {\n    case ADD_TODO:\n      return state.concat({\n        id: action.payload.id,\n        text: action.payload.text,\n        done: false\n      });\n\n    case TOGGLE_TODO:\n      return state.map(todo => todo.id === action.payload ? { ...todo,\n        done: !todo.done\n      } : todo);\n\n    case REMOVE_TODO:\n      return state.filter(todo => todo.id !== action.payload);\n\n    default:\n      return state;\n  }\n}\n\nexport default todos;","map":{"version":3,"sources":["C:/Users/yongs/react-tutorial/ts-react-redux-tutorial/src/modules/todos.ts"],"names":["ADD_TODO","TOGGLE_TODO","REMOVE_TODO","nextId","addTodo","text","type","payload","id","toggleTodo","removeTodo","initalState","todos","state","action","concat","done","map","todo","filter"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,gBAAjB;AACA,MAAMC,WAAW,GAAG,mBAApB;AACA,MAAMC,WAAW,GAAG,mBAApB;AAEA,IAAIC,MAAM,GAAG,CAAb;AAEA,OAAO,MAAMC,OAAO,GAAIC,IAAD,KAAmB;AACtCC,EAAAA,IAAI,EAAEN,QADgC;AAEtCO,EAAAA,OAAO,EAAE;AACLC,IAAAA,EAAE,EAAEL,MAAM,EADL;AAELE,IAAAA;AAFK;AAF6B,CAAnB,CAAhB;AAQP,OAAO,MAAMI,UAAU,GAAID,EAAD,KAAiB;AACvCF,EAAAA,IAAI,EAAEL,WADiC;AAEvCM,EAAAA,OAAO,EAAEC;AAF8B,CAAjB,CAAnB;AAKP,OAAO,MAAME,UAAU,GAAIF,EAAD,KAAiB;AACxCF,EAAAA,IAAI,EAAEJ,WADkC;AAExCK,EAAAA,OAAO,EAAEC;AAF+B,CAAjB,CAAnB;AAkBP,MAAMG,WAAuB,GAAG,EAAhC;;AAEA,SAASC,KAAT,CAAeC,KAAiB,GAAGF,WAAnC,EAAgDG,MAAhD,EAAiF;AAC7E,UAAOA,MAAM,CAACR,IAAd;AACI,SAAKN,QAAL;AACI,aAAOa,KAAK,CAACE,MAAN,CAAa;AAChBP,QAAAA,EAAE,EAACM,MAAM,CAACP,OAAP,CAAeC,EADF;AAEhBH,QAAAA,IAAI,EAACS,MAAM,CAACP,OAAP,CAAeF,IAFJ;AAGhBW,QAAAA,IAAI,EAAE;AAHU,OAAb,CAAP;;AAKJ,SAAKf,WAAL;AACI,aAAOY,KAAK,CAACI,GAAN,CAAUC,IAAI,IAAIA,IAAI,CAACV,EAAL,KAAYM,MAAM,CAACP,OAAnB,GAA6B,EAAC,GAAGW,IAAJ;AAAUF,QAAAA,IAAI,EAAE,CAACE,IAAI,CAACF;AAAtB,OAA7B,GAA2DE,IAA7E,CAAP;;AACJ,SAAKhB,WAAL;AACI,aAAOW,KAAK,CAACM,MAAN,CAAaD,IAAI,IAAIA,IAAI,CAACV,EAAL,KAAYM,MAAM,CAACP,OAAxC,CAAP;;AACJ;AACI,aAAOM,KAAP;AAZR;AAcH;;AAED,eAAeD,KAAf","sourcesContent":["const ADD_TODO = 'todos/ADD_TODO' as const;\r\nconst TOGGLE_TODO = 'todos/TOGGLE_TODO' as const;\r\nconst REMOVE_TODO = 'todos/REMOVE_TODO' as const;\r\n\r\nlet nextId = 1;\r\n\r\nexport const addTodo = (text: string) => ({\r\n    type: ADD_TODO,\r\n    payload: {\r\n        id: nextId++,\r\n        text\r\n    }\r\n});\r\n\r\nexport const toggleTodo = (id: number) => ({\r\n    type: TOGGLE_TODO,\r\n    payload: id\r\n});\r\n\r\nexport const removeTodo = (id: number) => ({\r\n   type: REMOVE_TODO,\r\n   payload: id\r\n});\r\n\r\ntype TodosAction = \r\n    | ReturnType<typeof addTodo>\r\n    | ReturnType<typeof toggleTodo>\r\n    | ReturnType<typeof removeTodo>\r\n\r\nexport type Todo = {\r\n    id: number;\r\n    text: string;\r\n    done: boolean;\r\n}\r\n\r\ntype TodosState = Todo[];\r\n\r\nconst initalState: TodosState = [];\r\n\r\nfunction todos(state: TodosState = initalState, action: TodosAction): TodosState {\r\n    switch(action.type){\r\n        case ADD_TODO:\r\n            return state.concat({\r\n                id:action.payload.id,\r\n                text:action.payload.text,\r\n                done: false\r\n            });\r\n        case TOGGLE_TODO:\r\n            return state.map(todo => todo.id === action.payload ? {...todo, done: !todo.done} : todo);\r\n        case REMOVE_TODO:\r\n            return state.filter(todo => todo.id !== action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default todos;"]},"metadata":{},"sourceType":"module"}